# 목차 
[1. 시스템 버스의 개념](#시스템-버스의-개념) <br>
[2. 시스템 버스의 유형별 분류](#시스템-버스의-유형별-분류) <br>
[3. 시스템 버스의 기능별 분류](#시스템-버스의-기능별-분류) <br>
[4. 인터럽트를 이용한 I/O](#인터럽트를-이용한-i/o) <br><br>

## 시스템 버스의 개념
버스는 컴퓨터 시템의 구성 장치를 연결하고 교환할 각종 정보를 전송하는 공유 전송매체다. <br>
여기서 컴퓨터 시스템을 구성하는 기본 장치인 중앙처리장치, 주기억장치, 외부기억장치, 입출력장치를 컴퓨터의 기본 모듈이라고 한다. <br>
컴퓨터의 기본 모듈은 필요에 의해 상호 간의 데이터를 전달하고 전달받는 통신 작업을 수행한다. <br>
컴퓨터 기본 모듈이 서로 전달하는 데이터의 전송 유형을 분석해보면, 세 가지 형태로 분류된다. <br>

1. 중앙처리장치가 주기억장치에서 명령어와 데이터를 읽고, 중앙처리장치가 기억장치에서 데이터를 저장하는 유형 <br>
2. 중앙처리장치가 입출력 모듈을 통하여 입출력장치에서 데이터를 읽어오고, 중앙처리장치가 입출력장치로 데이터를 내보내는 전송 유형 <br>
3. DMA 제어기의 동작으로 입출력 모듈이 직접 주기억장치에 접근하여 주기억장치와 데이터를 교환하는 유형 <br>

이러한 데이터 전송을 수행하려면 컴퓨터 기본 모듈들이 버스로 연결되어야 한다. 중앙처리장치를 중심으로 주기억장치, 외부기억장치 그리고 입출력장치가 `데이터를 교환하는 통로`를 시스템 버스라고 한다. <br>

<img src="https://github.com/z-wook/z-wook/assets/101041221/18520e35-ebb8-4b28-9021-0d20c500e343">

## 시스템 버스의 유형별 분류
버스를 유형별로 분류하면 전용 버스와 다중화 버스로 구분할 수 있다. <br>

- 전용버스 <br>
  `지정된 신호만을 전송할 수 있는 버스`다. 데이터를 전달하는 전용 버스를 데이터 버스라고 하며, 주소만을 전달하는 전용 버스를 주소 버스라고 한다. 그리고 제어신호를 전달하는 전용 버스를 제어 버스라고 한다. <br>

- 다중화 버스 <br>
  `제어신호에 의해 여러 용도의 신호를 전달할 수 있는 버스`다. 주소 및 데이터 버스는 주소유효(address valid) 신호를 이용해서, 주소 데이터를 전달하거나 일반 데이터를 전달할 수 있다. 다중화 버스의 장점은 버스로 사용되는 선의 수가 적기 때문에 공간과 비용을 절감할 수 있다는 것이다. 그러나 제어회로가 복잡하고, 사분활다중화(time multiplexing) 방식으로 인해 성능이 저하되는 단점이 있다. <br><br>

## 시스템 버스의 기능별 분류
- 데이터 버스 (CPU와 기타 장치 사이에서 데이터를 전달하는 통로) <br>
  데이터 버스는 컴퓨터 시스템을 구성하는 장치들 사이에 데이터를 전송할 때 사용되는 선들의 집합이다. 이 버스는 연결된 장치 간에 서로 `양방향 전송이 가능`하다. 그리고 데이터 버스의 폭(선들의 수)은 중앙처리장치와 주기억장치 사이에 한 번에 전송되는 비트 수로 결정된다. <br>

- 주소 버스 (CPU가 주기억 장치나 I/O 장치로 기억장치 주소를 전달하는 통로) <br>
  주소 버스는 중앙처리장치가 주기억장치로 데이터의 쓰기 동작을 하거나 중앙처리장치가 주기억장치에서 데이터의 읽기 동작을 할 때, 해당하는 주기억장치 장소를 지정하는 주소를 전송하기 위한 선들의 집합이다. 이 버스는 중앙처리장치에서 주기억장치 및 입출력 모듈로 주소를 전송할 수 있지만, 반대로 주기억장치 및 입출력 모듈에서 중앙처리장치로 주소를 전송할 수 없다. <br>
  즉, 주소 버스는 `단방향 전송`의 특징이 있다. <br>
  주소 버스의 비트 수는 중앙처리장치가 엑세스할 수 있는 기억장치의 주소 수를 결정하거나 또는 기억장소의 수를 결정한다. <br>

- 제어 버스 (데이터 버스와 주소 버스를 제어하기 위해 제어 신호들을 전송하는 통로) <br>
  제어 버스는 중앙처리장치와 주기억장치 및 입출력장치 사이에 `제어신호를 전송하는 선들의 집합`이다. <br>

  - 주요 제어 신호 <br>
    1. 기억장치 읽기/쓰기
    2. 입출력 읽기/쓰기
    3. 전송 확인
    4. 버스 요구
    5. 버스 승인
    6. 클록
  
    제어 버스를 통해 전달되는 제어신호를 관련된 장치에 따라서 분류하면 다음과 같다. <br>

  1. 중앙처리장치, 주기억장치와 관련된 제어신호 <br>
     - 기억장치 쓰기 신호: 버스에 적재된 데이터를 주소가 지정하는 기억장치의 장소에 저장되도록한다. <br>
     - 기억장치 읽기 신호: 주소가 지정하는 기억장치 장소의 내용을 읽어서 버스에 적재한다. <br>

  2. 중앙처리장치, 입출력장치와 관련된 제어신호 <br>
     - 입출력 쓰기(I/O write) 신호: 버스에 적재된 데이터를 지정된 입출력장치로 출력되게 한다. <br>
     - 입출력 읽기(I/O read) 신호: 지정된 입출력장치에서 데이터를 읽어서 데이터 버스에 적재한다. <br>
     - 전송 확인(transfer acknowledge) 신호: 데이터 전송 동작이 완료되었음을 알려준다. <br>

  3. 버스 중재에서 사용되는 제어 신호 <br>
     버스에서 연결된 여러 장치가 동시에 버스를 사용하려면 각 장치들이 순서대로 버스를 사용하도록 제어해주는 기능이 필요하다. 이런 제어 기능을 버스 중재라고 한다. <br>
     시스템 버스에 접속되는 장치들 중에서 버스 사용의 주체가 되는 중앙처리장치, 입출력 모듈 등의 요소들은 버스 마스터(bus master)라고 한다. 버스 중재는 시스템 버스에 접속된 두 개 또는 그 이상의 버스 마스터들이 동시에 버스를 사용하고자 할 때 순서대로 마스터 한 개씩 버스를 사용할 수 있게 해준다. 버스 중재를 위한 제어신호 선들의 집합을 중재 버스(arbitration bus)라고 한다. 중재 버스에는 버스 요구 신호, 버스 승인 신호, 버스 사용 중 신호 등이 있다. <br>

  - 버스 요구 신호: 버스 마스터가 버스 사용을 요청했음을 알린다. <br>
  - 버스 승인 신호: 버스 사용을 요청한 버스 마스터에게 버스 사용을 허가한다. <br>
  - 버스 사용 중 신호: 현재 다른 버스 마스터가 버스를 사용하고 있는 상태임을 나타낸다. <br><br>
  
  4. 인터럽트 버스에서 사용되는 제어신호 <br>
  <img src="https://github.com/z-wook/z-wook/assets/101041221/e5c69ea1-a163-405b-8402-296192aa8333"> <br>

      시스템 버스와 별도로 인터럽트 요구 선이 각 장치들과 연결되어 있는 것을 볼 수 있다. <br>
      인터럽트 요구 선을 인터럽트 버스라고 하는데 인터럽트 동작을 위한 제어신호 선들의 집합이다. <br>
      인터럽트 버스에 사용되는 신호에는 인터럽트 요구 신호와 인터럽트 확인 신호가 있다. <br>

     - 인터럽트 요구 신호: 입출력장치가 인터럽트를 중앙처리장치로 요구했음을 알린다. <br>
     - 인터럽트 확인 신호: 중앙처리장치 인터럽트 요구를 인식했음을 알린다. <br>

  5. 그 밖의 제어신호 <br>
   - 버스 클록: 동기식 버스에서 버스 동작들의 시작 시각을 일치시키기 위해 재공된다. <br>
   - 리셋 신호: 컴퓨터 시스템의 모든 요소의 동작을 초기화시킨다. <br><br>

## 인터럽트를 이용한 I/O
- 인터럽트-구동(Interruptive-driven I/O): 인터럽트 메커니즘을 이용 <br>

1. 다중-인터럽트 방식 <br>
   - 각 I/O 제어기와 CPU 사이에 별도의 인터럽트 요구(INTR: Interrupt Request)선과 인터럽트 확인(INTA: Interrupt Acknowledge) 선을 접속하는 방법 <br>

2. 데이지-체인 방식 <br>
   - CPU로부터 발생되는 INTA 출력 선을 I/O 제어기들에 직렬로 접속하는 방식 <br>
   - 인터럽트를 요구한 I/O 장치는 AIn 입력을 받는 즉시 자신의 고유 ID 번호 (인터럽트 벡터: Interrupt Vecotr)를 데이터 버스를 통해 CPU로 전송 <br>

1. 소프트웨어 폴링 방식 <br>
   - CPU가 모든 I/O 제어기들에 접속된 TEST I/O 선을 이용하여 인터럽트를 요구한 장치를 검사하는 방식 (인터럽트 플래그 세트되어 있는지 검사) <br>
